<!--pages/settings/settings.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-section">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/default/avatar.png'}}" mode="aspectFill" />
      <view class="user-detail">
        <view class="nickname">{{userInfo.nickName || 'æœªç™»å½•'}}</view>
        <view class="user-id" wx:if="{{userInfo}}">ID: {{userInfo.id || 'æœªçŸ¥'}}</view>
      </view>
    </view>
  </view>
  
  <!-- è®¾ç½®èœå• -->
  <view class="settings-list">
    <view 
      wx:for="{{menuList}}" 
      wx:key="id" 
      class="menu-item"
      bindtap="onMenuTap"
      data-id="{{item.id}}"
      data-url="{{item.url}}"
      data-type="{{item.type}}"
    >
      <view class="menu-left">
        <text class="menu-icon">{{item.icon}}</text>
        <text class="menu-name">{{item.name}}</text>
      </view>
      
      <!-- å¼€å…³ç±»å‹ -->
      <switch 
        wx:if="{{item.type === 'switch'}}"
        checked="{{settings[item.value]}}"
        bindchange="onSwitchChange"
        data-value="{{item.value}}"
        color="#3cc51f"
      />
      
      <!-- æ™®é€šç±»å‹ -->
      <view wx:else class="menu-arrow">></view>
    </view>
  </view>
  
  <!-- å…¶ä»–æ“ä½œ -->
  <view class="action-list">
    <view class="action-item" bindtap="onCheckUpdate">
      <view class="action-left">
        <text class="action-icon">ğŸ”„</text>
        <text class="action-name">æ£€æŸ¥æ›´æ–°</text>
      </view>
      <view class="action-right">
        <text class="version-text">v{{version}}</text>
        <view class="action-arrow">></view>
      </view>
    </view>
    
    <view class="action-item" bindtap="onClearCache">
      <view class="action-left">
        <text class="action-icon">ğŸ—‘ï¸</text>
        <text class="action-name">æ¸…é™¤ç¼“å­˜</text>
      </view>
      <view class="action-arrow">></view>
    </view>
  </view>
  
  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-section" wx:if="{{userInfo}}">
    <button class="logout-btn" bindtap="onLogout">é€€å‡ºç™»å½•</button>
  </view>
</view> 