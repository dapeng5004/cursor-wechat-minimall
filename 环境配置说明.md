# 环境配置说明

## 后端服务配置 (server/.env)

### 1. 创建配置文件
```bash
cd server
cp env.example .env
```

### 2. 配置说明

#### 服务器配置
- `PORT=3001` - 后端服务端口
- `NODE_ENV=development` - 运行环境

#### 数据库配置
- `DB_HOST=localhost` - 数据库主机地址
- `DB_USER=root` - 数据库用户名
- `DB_PASSWORD=` - 数据库密码（请填写你的MySQL密码）
- `DB_NAME=mall` - 数据库名称
- `DB_PORT=3306` - 数据库端口

#### JWT配置
- `JWT_SECRET=your-super-secret-jwt-key-2024` - JWT密钥（生产环境请修改）
- `JWT_EXPIRES_IN=7d` - Token过期时间

#### 文件上传配置
- `UPLOAD_PATH=uploads` - 上传文件存储路径
- `MAX_FILE_SIZE=5242880` - 最大文件大小（5MB）
- `ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp` - 允许的文件类型

#### 跨域配置
- `CORS_ORIGIN=http://localhost:3000` - 允许跨域的源地址

## 前端项目配置 (mall-admin/.env)

### 1. 创建配置文件
```bash
cd mall-admin
cp env.example .env
```

### 2. 配置说明

#### API接口配置
- `VITE_API_BASE_URL=http://localhost:3001` - 后端API基础地址
- `VITE_API_TIMEOUT=10000` - API请求超时时间

#### 应用配置
- `VITE_APP_TITLE=商城后台管理系统` - 应用标题
- `VITE_APP_VERSION=1.0.0` - 应用版本

#### 文件上传配置
- `VITE_UPLOAD_URL=http://localhost:3001/api/admin/upload/file` - 文件上传接口
- `VITE_MAX_FILE_SIZE=5242880` - 最大文件大小

#### 调试配置
- `VITE_ENABLE_DEBUG=true` - 启用调试模式
- `VITE_ENABLE_MOCK=true` - 启用模拟数据

## 配置步骤

### 1. 后端配置
```bash
# 进入后端目录
cd server

# 复制环境配置模板
cp env.example .env

# 编辑配置文件（根据你的实际情况修改）
nano .env
```

### 2. 前端配置
```bash
# 进入前端目录
cd mall-admin

# 复制环境配置模板
cp env.example .env

# 编辑配置文件（根据你的实际情况修改）
nano .env
```

### 3. 重要配置项

#### 数据库密码
在 `server/.env` 中修改 `DB_PASSWORD` 为你的MySQL密码：
```
DB_PASSWORD=your_mysql_password
```

#### JWT密钥
在 `server/.env` 中修改 `JWT_SECRET` 为安全的密钥：
```
JWT_SECRET=your-very-secure-jwt-secret-key
```

#### API地址
如果修改了后端端口，需要同时修改前端配置：
```
# server/.env
PORT=3001

# mall-admin/.env
VITE_API_BASE_URL=http://localhost:3001
```

## 注意事项

1. **安全性**：生产环境请修改所有默认密码和密钥
2. **数据库**：确保MySQL服务已启动且配置正确
3. **端口**：确保端口未被其他服务占用
4. **文件权限**：确保uploads目录有写入权限
5. **环境变量**：.env文件不要提交到版本控制系统

## 验证配置

### 1. 测试后端连接
```bash
cd server
npm run dev
```

### 2. 测试前端连接
```bash
cd mall-admin
npm run dev
```

### 3. 访问地址
- 前端：http://localhost:3000
- 后端API：http://localhost:3001/api/test 